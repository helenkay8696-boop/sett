<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>丰园结算 - Premium Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts: Inter & Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i data-lucide="truck"></i>
                    <span style="font-weight: 700; font-size: 1.1rem; letter-spacing: -0.5px;">丰源货主管理</span>
                </div>
            </div>
            <ul class="nav-list">
                <li class="nav-item" data-title="工作台"><i data-lucide="home"></i><span>工作台</span></li>
                <li class="nav-item" data-title="供应链"><i data-lucide="container"></i><span>供应链</span></li>
                <li class="nav-item" data-title="业务"><i data-lucide="briefcase"></i><span>业务</span></li>
                <li class="nav-item" data-title="仓库"><i data-lucide="warehouse"></i><span>仓库</span></li>
                <li class="nav-item" data-title="报价"><i data-lucide="calculator"></i><span>报价</span></li>
                <li class="nav-item" data-title="管理"><i data-lucide="settings-2"></i><span>管理</span></li>
                <li class="nav-item active" data-title="结算"><i data-lucide="layout-grid"></i><span>结算</span></li>
                <li class="nav-item" data-title="财务"><i data-lucide="banknote"></i><span>财务</span></li>
                <li class="nav-item" data-title="报表"><i data-lucide="bar-chart-3"></i><span>报表</span></li>
                <li class="nav-item" data-title="客商"><i data-lucide="users"></i><span>客商</span></li>
                <li class="nav-item" data-title="档案"><i data-lucide="folder-open"></i><span>档案</span></li>
                <li class="nav-item" data-title="用户"><i data-lucide="user-circle"></i><span>用户</span></li>
                <li class="nav-item" data-title="系统"><i data-lucide="settings"></i><span>系统</span></li>
            </ul>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Global Search Header (Independent of Nav) -->
            <div class="top-banner">
                <div class="search-header">
                    <div class="brand">丰源</div>
                    <div class="divider-v"></div>
                    <div class="search-group">
                        <div class="dropdown" id="search-dropdown">
                            <span id="selected-type">工作单号</span>
                            <i data-lucide="chevron-down"></i>
                            <div class="dropdown-menu" id="dropdown-menu">
                                <div class="dropdown-item active" data-value="工作单号">工作单号</div>
                                <div class="dropdown-item" data-value="配载单号">配载单号</div>
                            </div>
                        </div>
                        <input type="text" placeholder="工作单号/配载单号">
                        <button class="search-btn">
                            <i data-lucide="search"></i>
                        </button>
                    </div>
                    <div class="button-group">
                        <button class="action-btn">查询轨迹</button>
                        <button class="action-btn">接收账单</button>
                    </div>
                </div>
            </div>

            <!-- Dynamic Tabs Bar -->
            <div class="tabs-bar" id="tabs-bar" style="display: none;">
                <div class="tabs-list" id="tabs-list">
                    <!-- Tabs injected here -->
                </div>
            </div>

            <!-- Page Body with Overlay Navigation -->
            <div class="page-layout">
                <div class="menu-mask" id="menu-mask"></div>
                <aside class="sub-sidebar" id="sub-sidebar">
                    <div class="secondary-nav" id="secondary-content">
                        <!-- Dynamic Content will be injected here -->
                    </div>
                </aside>
                <div class="page-content">
                    <!-- Future main page content -->
                </div>
            </div>
        </main>
    </div>
    <!-- Statement Modal -->
    <div class="modal-overlay" id="statement-modal">
        <div class="modal-container">
            <div class="modal-header">
                <span>对账单</span>
                <div class="modal-actions">
                    <i data-lucide="square" class="header-icon"></i>
                    <i data-lucide="x" class="header-icon" id="close-modal"></i>
                </div>
            </div>

            <div class="modal-content">
                <!-- Filter Section -->
                <div class="modal-filter-bar">
                    <div class="filter-row">
                        <div class="filter-item">
                            <label>结算单位</label>
                            <div class="select-box" style="width: 250px;">
                                <span>请选择</span>
                                <i data-lucide="chevron-down"></i>
                            </div>
                        </div>
                        <div class="filter-item flex-grow">
                            <input type="text" placeholder="请输入工作单号/配载单号" style="width: 100%;">
                        </div>
                        <button class="primary-btn search-btn-main">
                            <i data-lucide="search"></i> 查询
                        </button>
                        <button class="ghost-btn" id="toggle-filter-btn">更多(2) <i
                                data-lucide="chevron-down"></i></button>
                        <button class="accent-btn">
                            <i data-lucide="plus-circle"></i> 创建账单
                        </button>
                        <i data-lucide="settings" class="settings-icon"></i>
                    </div>

                    <div id="expandable-filter-area">
                        <div class="filter-row">
                            <div class="filter-item">
                                <div class="select-box-inline" style="width: 100px;">计费日期 <i
                                        data-lucide="chevron-down"></i>
                                </div>
                                <input type="date" value="2025-01-01">
                                <span>-</span>
                                <input type="date" value="2025-12-31">
                            </div>
                            <div class="filter-item">
                                <div class="select-box-inline relative-container"
                                    style="width: 100px; -webkit-user-select: none; user-select: none;">
                                    <span id="work-order-type-val">工作单号</span>
                                    <i data-lucide="chevron-down"></i>
                                    <div class="dropdown-menu-custom hidden" id="work-order-type-menu">
                                        <div class="dropdown-item-custom"
                                            onclick="selectOption('work-order-type-val', '工作单号')">工作单号</div>
                                        <div class="dropdown-item-custom"
                                            onclick="selectOption('work-order-type-val', '账单号')">账单号</div>
                                    </div>
                                </div>
                                <input type="text" placeholder="请输入">
                            </div>
                            <div class="filter-item">
                                <label>单笔费用待销余额</label>
                                <div class="select-box" style="width: 80px;">
                                    <span>!=</span>
                                    <i data-lucide="chevron-down"></i>
                                </div>
                                <input type="text" value="0" style="width: 100px; margin-left: 8px;">
                            </div>
                        </div>

                        <div class="filter-row">
                            <div class="filter-item">
                                <label>费用项目</label>
                                <div class="select-box">
                                    <span>请选择</span>
                                    <i data-lucide="chevron-down"></i>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>费用类型</label>
                                <div class="select-box relative-container"
                                    style="-webkit-user-select: none; user-select: none;">
                                    <span id="expense-type-val">请选择</span>
                                    <i data-lucide="chevron-down"></i>
                                    <div class="dropdown-menu-custom hidden" id="expense-type-menu">
                                        <div class="dropdown-item-custom"
                                            onclick="selectOption('expense-type-val', '应收')">
                                            应收</div>
                                        <div class="dropdown-item-custom"
                                            onclick="selectOption('expense-type-val', '应付')">
                                            应付</div>
                                    </div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>运输公司</label>
                                <div class="select-box">
                                    <span>请选择</span>
                                    <i data-lucide="chevron-down"></i>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>司机姓名</label>
                                <div class="select-box">
                                    <span>请选择</span>
                                    <i data-lucide="chevron-down"></i>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>车牌号</label>
                                <div class="select-box">
                                    <span>请选择</span>
                                    <i data-lucide="chevron-down"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Table Section -->
                <div class="modal-table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">#</th>
                                <th style="width: 40px;"><input type="checkbox"></th>
                                <th>工作单号</th>
                                <th>账单号</th>
                                <th>结算单位</th>
                                <th>计费日期</th>
                                <th>费用项</th>
                                <th>币制</th>
                                <th>数量</th>
                                <th>单价</th>
                                <th>税率</th>
                                <th>原币金额</th>
                                <th>对账金额</th>
                                <th>折合金额</th>
                                <th>账单金额</th>
                                <th>未核销</th>
                                <th>所属公司</th>
                                <th>签收日期</th>
                                <th>运输公司</th>
                                <th>司机姓名</th>
                                <th>车牌号</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Empty State -->
                        </tbody>
                    </table>
                    <div class="table-empty-state">
                        <img src="https://img.icons8.com/ios/100/94a3b8/search--v1.png" alt="no data"
                            style="width: 64px; opacity: 0.5;">
                        <p>暂无数据</p>
                        <span style="font-size: 0.7rem;">No data</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre-write-off Modal -->
    <div class="modal-overlay" id="pre-write-off-modal">
        <div class="modal-container" style="max-width: 1000px; height: auto; max-height: 85vh;">
            <div class="modal-header">
                <span>提交预销账</span>
                <div class="modal-actions">
                    <i data-lucide="x" class="header-icon" onclick="closePreWriteOffModal()"></i>
                </div>
            </div>
            <div class="modal-content" style="padding: 20px;">
                <!-- Top Info Row -->
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 13px; color: #475569;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="font-weight: 500;">结算单位：</span>
                        <span>663333</span>
                    </div>
                    <div
                        style="display: flex; align-items: center; gap: 8px; flex: 1; max-width: 500px; margin-left: 40px;">
                        <span style="font-weight: 500; white-space: nowrap;">备注：</span>
                        <input type="text" placeholder="请输入"
                            style="flex: 1; height: 32px; border: 1px solid #e2e8f0; border-radius: 4px; padding: 0 10px; font-size: 13px;">
                    </div>
                </div>

                <!-- Payment Method Row -->
                <div
                    style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px; font-size: 13px; color: #475569;">
                    <span style="font-weight: 500;">客户付款：</span>
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                            <input type="radio" name="payment-type" checked> 原币付款
                        </label>
                        <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
                            <input type="radio" name="payment-type"> 折合付款
                        </label>
                    </div>
                </div>

                <!-- Table Section -->
                <div style="border: 1px solid #e2e8f0; border-radius: 4px; overflow: hidden;">
                    <table class="statement-table" style="width: 100%; border-collapse: collapse; font-size: 12px;">
                        <thead>
                            <tr style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                                <th style="width: 40px; text-align: center; padding: 10px;"><input type="checkbox">
                                </th>
                                <th style="width: 40px; padding: 10px;"></th>
                                <th style="padding: 10px; text-align: left;">账单号</th>
                                <th style="padding: 10px; text-align: left;">账单日期</th>
                                <th style="padding: 10px; text-align: left;">工作单号</th>
                                <th style="padding: 10px; text-align: left;">费用</th>
                                <th style="padding: 10px; text-align: left;">原币</th>
                                <th style="padding: 10px; text-align: left;">原币待销金额</th>
                                <th style="padding: 10px; text-align: left;">折算符</th>
                                <th style="padding: 10px; text-align: left;">兑换率</th>
                                <th style="padding: 10px; text-align: left;">收款币制</th>
                                <th style="padding: 10px; text-align: left;">收款金额</th>
                                <th style="padding: 10px; text-align: left;">原币销账金额</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #f1f5f9;">
                                <td style="text-align: center; padding: 10px;"><input type="checkbox"></td>
                                <td style="padding: 10px;"></td>
                                <td style="padding: 10px;">BILL20231201</td>
                                <td style="padding: 10px;">2023-12-10</td>
                                <td style="padding: 10px;">OTH202312009</td>
                                <td style="padding: 10px;">运费</td>
                                <td style="padding: 10px;">USD</td>
                                <td style="padding: 10px;">500.00</td>
                                <td style="padding: 10px;">*</td>
                                <td style="padding: 10px;">7.12</td>
                                <td style="padding: 10px;">CNY</td>
                                <td style="padding: 10px;">3560.00</td>
                                <td style="padding: 10px;">500.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Footer Actions -->
                <div style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                    <button class="secondary-btn" style="height: 32px; padding: 0 20px;"
                        onclick="closePreWriteOffModal()">退出</button>
                    <button class="primary-btn" style="height: 32px; padding: 0 20px;">确定</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>